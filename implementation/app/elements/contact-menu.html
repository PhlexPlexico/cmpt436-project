<link rel="import" href="app-imports.html">

<dom-module id="contact-menu">
	<style>
		.contacts ::template > .iron-selected {
	      color: white;
	      background-color: #FFA726;
	    }
	    a > .iron-selected {
	      color: white;
	      background-color: #FFA726;
	    }
		a {
			display: block;
			padding: 15px 20px;
			padding-top: 0;
			color: #fff;
			text-decoration: none;
		}
		a:first-child {
			padding: 15px 20px;
		}
		.horizontal-section {
			padding: 0;
			margin-bottom: 20px;
		}
		.row {
			height: 120px;
		}
		.header {
			font-size: 18px;
			margin: 0 17px 0 25px;
			margin-top: 10px;
		}
		.no_overflow {
			text-overflow: ellipsis;
			overflow: hidden;
			white-space: nowrap;
		}
		.item {
			margin-bottom: 5px;
			margin-left: 5px;
		}
		paper-dialog-scrollable {
			margin: 20px;
		}
	</style>
	<template>
		<div class="header horizontal layout center flex">
			<div class="flex">Contacts</div>
			<paper-icon-button icon="add" on-tap="openAddContactDialog"></paper-icon-button>
		</div>
		<div class="contacts">
			<template is="dom-repeat" items="[[groups]]" filter="isContact">
				<group-item group="[[item]]" user="[[user]]"></group-item>
			</template>
	    </div>
		<div class="header horizontal layout center flex">
			<div class="flex">Groups</div>
			<paper-icon-button icon="add" on-tap="openAddGroupDialog"></paper-icon-button>
		</div>
	    <div class="groups">
			<template is="dom-repeat" items="[[groups]]" filter="isGroup">
				<group-item group="[[item]]" user="[[user]]"></group-item>
			</template>
	    </div>
	</template>
</dom-module>

<script>
	Polymer({
		is: "contact-menu",

		properties: {
			user: {
				type: String,
				value: null,
			},
			groups: {
				type: Array,
				value: [],
			},
		},

		ready: function() {
			console.log(this.groups);
		},

		openAddContactDialog: function() {
			this.fire('open-add-contact-dialog');
		},

		openAddGroupDialog: function() {
			this.fire('open-add-group-dialog');
		},

		isGroup: function(item) {
			return item.type == "group";
		},

		isContact: function(item) {
			return item.type == "contact";
		},

	});
</script>